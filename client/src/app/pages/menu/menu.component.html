<div class="sort-controls">
  <label>
    Lọc theo loại:
    <select [(ngModel)]="selectedCategory" class="selectType" (change)="filterProducts()">
      <option value="">Tất cả</option>
      <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
    </select>
  </label>

  <label>
    Sắp xếp theo giá:
    <select [(ngModel)]="selectedPriceSort" class="selectType" (change)="filterProducts()">
      <option value="">Mặc định</option>
      <option value="asc">Giá thấp → cao</option>
      <option value="desc">Giá cao → thấp</option>
    </select>
  </label>
</div>

<div *ngIf="loading" class="loading-state">
  <p>Đang tải thực đơn...</p>
</div>

<div *ngIf="error" class="error-state">
  <p>{{ error }}</p>
</div>

<div *ngIf="!loading && !error" class="menu-wrapper">
  <h2 class="menu-heading">☕ Hôm nay bạn muốn dùng gì nhỉ ? </h2>

  <div class="product-grid">
    <div class="product-card" *ngFor="let p of filteredProducts" (click)="selectProduct(p)">
      <div class="image-box">
        <img [src]="p.urlImage" [alt]="p.nameProduct" (error)="onImgError($event)">
      </div>
      <div class="card-body">
        <h3 class="product-name">{{ p.nameProduct }}</h3>
        <p class="price">{{ p.price | number:'1.0-0' }} ₫</p>
        <span class="badge" [class.available]="p.status" [class.soldout]="!p.status">
          {{ p.status ? 'Còn bán' : 'Hết hàng' }}
        </span>
      </div>
    </div>
  </div>
</div>
